# 第一阶段：基础入门（2-3周）

> 本阶段帮助你掌握必要的前置知识，为学习项目打好基础。

## 学习目标

完成本阶段后，你将能够：

- ✅ 阅读并理解 Python 装饰器和异步代码
- ✅ 理解 HTTP 请求和响应的结构
- ✅ 能写基本的 SQL 查询
- ✅ 理解 REST API 设计原则
- ✅ 了解 Web 安全的基本概念

---

## Week 1: Python 进阶 + HTTP/Web 基础

### Day 1-2: Python 进阶特性

**学习内容**：
- [Python 进阶特性](../01-前置知识/01-Python进阶特性.md)

**重点掌握**：
- 装饰器的原理和应用
- async/await 异步编程
- 类型提示的使用

**实践作业**：
```python
# 1. 写一个计时装饰器
def timing_decorator(func):
    # TODO: 实现计时功能
    pass

@timing_decorator
async def test_function():
    await asyncio.sleep(1)

# 2. 写一个异步数据库查询函数
async def get_user(db, user_id):
    # TODO: 实现查询逻辑
    pass
```

**检验标准**：
- [ ] 能解释装饰器的作用
- [ ] 能看懂项目中 `@userController.get("/list")` 的含义
- [ ] 能理解 `async def` 和 `await` 的作用

---

### Day 3-4: HTTP 与 Web 基础

**学习内容**：
- [HTTP 与 Web 基础](../01-前置知识/02-HTTP与Web基础.md)

**重点掌握**：
- HTTP 请求和响应的结构
- GET 和 POST 的区别
- 常见状态码的含义
- Cookie 和 Session
- CORS 跨域问题

**实践作业**：
1. 打开浏览器开发者工具（F12）
2. 访问任意网站，查看 Network 标签
3. 找一个请求，分析：
   - 请求方法和 URL
   - 请求头有哪些
   - 响应状态码
   - 响应体的结构

**检验标准**：
- [ ] 能解释 HTTP 请求的组成
- [ ] 知道 200、401、403、404、500 的含义
- [ ] 理解 GET 和 POST 的区别
- [ ] 知道什么是 CORS

---

### Day 5-7: 本周复习与总结

**复习要点**：
1. 装饰器在项目中的应用（路由定义、依赖注入、日志）
2. 异步编程的优势（并发处理请求）
3. HTTP 请求的完整流程

**小项目**：
```python
# 使用 FastAPI 写一个简单的 CRUD API
from fastapi import FastAPI, Depends
from pydantic import BaseModel

app = FastAPI()

class User(BaseModel):
    name: str
    email: str

# 模拟数据库
users_db = []

@app.post("/users")
async def create_user(user: User):
    # TODO: 实现创建用户
    pass

@app.get("/users")
async def get_users():
    # TODO: 实现查询用户列表
    pass
```

---

## Week 2: 数据库基础 + REST API 设计

### Day 1-3: 数据库基础

**学习内容**：
- [数据库基础](../01-前置知识/03-数据库基础.md)

**重点掌握**：
- 数据库表的设计
- 基本的 SQL 查询
- 主键、外键、索引
- 事务的概念
- ORM 的作用

**实践作业**：
```sql
-- 1. 创建一个简单的用户表
CREATE TABLE test_user (
    user_id INT PRIMARY KEY AUTO_INCREMENT,
    user_name VARCHAR(30) NOT NULL,
    email VARCHAR(50),
    status CHAR(1) DEFAULT '0',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 2. 插入测试数据
INSERT INTO test_user (user_name, email) VALUES
('zhangsan', 'zhangsan@example.com'),
('lisi', 'lisi@example.com');

-- 3. 查询数据
SELECT * FROM test_user WHERE status = '0';
```

**检验标准**：
- [ ] 能写基本的 CRUD SQL
- [ ] 理解主键和外键的作用
- [ ] 理解事务的 ACID 特性
- [ ] 知道 ORM 相比原生 SQL 的优势

---

### Day 4-5: REST API 设计

**学习内容**：
- [REST API 设计原则](../01-前置知识/04-REST_API设计原则.md)

**重点掌握**：
- REST 的核心概念
- 资源命名规范
- HTTP 方法的正确使用
- 分页、过滤、排序的设计

**实践作业**：
为"图书管理"设计 RESTful API：

```
资源：图书（Book）
功能：增删改查、分页查询、按分类过滤

TODO: 设计 API 接口
```

参考答案：
```
GET    /api/books              # 获取图书列表
GET    /api/books/{id}         # 获取图书详情
POST   /api/books              # 创建图书
PUT    /api/books/{id}         # 更新图书
DELETE /api/books/{id}         # 删除图书
GET    /api/books?category=1   # 按分类过滤
```

**检验标准**：
- [ ] 能设计符合 REST 风格的 URI
- [ ] 知道何时使用 GET/POST/PUT/DELETE
- [ ] 能设计分页和过滤接口

---

### Day 6-7: 本周复习与实践

**综合练习**：
```python
# 完整的 CRUD API
from fastapi import FastAPI, HTTPException
from pydantic import BaseModel
from typing import List, Optional

app = FastAPI()

class Book(BaseModel):
    id: Optional[int] = None
    title: str
    author: str
    price: float

# 模拟数据库
books_db = []
current_id = 1

@app.post("/books", response_model=Book)
async def create_book(book: Book):
    # TODO: 实现创建逻辑
    pass

@app.get("/books", response_model=List[Book])
async def get_books(skip: int = 0, limit: int = 10):
    # TODO: 实现分页查询
    pass

@app.get("/books/{book_id}", response_model=Book)
async def get_book(book_id: int):
    # TODO: 实现详情查询
    pass
```

---

## Week 3: 安全基础 + FastAPI 入门

### Day 1-2: Web 安全基础

**学习内容**：
- [Web 安全基础](../01-前置知识/05-Web安全基础.md)

**重点掌握**：
- 认证和授权的区别
- JWT 的工作原理
- 常见安全威胁（SQL注入、XSS、CSRF）
- 密码哈希存储

**实践作业**：
```python
# 1. 使用 bcrypt 哈希密码
import bcrypt

password = "admin123"
# TODO: 哈希密码
# TODO: 验证密码

# 2. 简单的 JWT 生成和解析
import jwt

# TODO: 生成 JWT token
# TODO: 解析并验证 token
```

**检验标准**：
- [ ] 理解 JWT 的结构和工作原理
- [ ] 知道常见的 Web 安全威胁
- [ ] 理解密码为什么要哈希存储

---

### Day 3-5: FastAPI 官方教程

**学习内容**：
- [FastAPI 官方文档（中文版）](https://fastapi.tiangolo.com/zh/)
- 重点阅读：
  - 用户指南 - 请求体
  - 用户指南 - 查询参数
  - 用户指南 - 路径参数
  - 用户指南 - 依赖注入

**实践作业**：
按照官方教程完成一个待办事项 API：

```python
# TODO: 实现以下功能
# 1. 创建待办事项
# 2. 查询待办事项列表
# 3. 更新待办事项
# 4. 删除待办事项
```

---

### Day 6-7: 第一阶段综合测试

**测试项目**：简单的博客 API

要求：
1. 用户注册/登录（使用 JWT）
2. 文章的增删改查
3. 文章列表分页
4. 只有作者能删除自己的文章

```python
# 提示：使用 FastAPI + SQLite
# 参考：
# - 认证：使用 JWT
# - 数据库：使用 SQLAlchemy
# - 验证：使用 Pydantic
```

---

## 阶段检查点

完成第一阶段后，请检查：

- [ ] 能理解 Python 装饰器代码
- [ ] 能使用 async/await 写异步函数
- [ ] 能看懂 HTTP 请求的结构
- [ ] 能写基本的 SQL 查询
- [ ] 能设计符合 REST 规范的 API
- [ ] 理解 JWT 的基本原理
- [ ] 能用 FastAPI 写简单的 CRUD API

### 进入第二阶段的条件

如果以上检查点都能完成，恭喜你！可以进入 [第二阶段：项目实战](./02-第二阶段项目篇.md)。

如果有未掌握的内容，建议：
1. 重读相关文档
2. 多写代码练习
3. 搜索相关资料补充学习
