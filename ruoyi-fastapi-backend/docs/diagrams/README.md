# Mermaid 流程图

本目录存放项目的 Mermaid 流程图，用于可视化展示项目架构和流程。

## 图表列表

| 文件名 | 描述 | 图表数量 |
|--------|------|----------|
| `01-project-overview.md` | 项目概览 - 技术栈和整体架构 | 7 个图表 |
| `02-login-flow.md` | 登录流程详解 | 7 个图表 |
| `03-permission-flow.md` | 权限验证流程详解 | 9 个图表 |
| `04-request-lifecycle.md` | 请求生命周期详解 | 10 个图表 |
| `05-data-flow.md` | 数据流转流程详解 | 12 个图表 |

**总计：45 个 Mermaid 流程图**

## 各图表包含内容

### 01. 项目概览
1. 项目整体架构图
2. 后端分层架构图
3. 核心技术栈思维导图
4. 核心功能模块关系图
5. 认证授权流程时序图
6. 数据库关系 ER 图
7. 部署架构图

### 02. 登录流程
1. 登录完整流程时序图
2. 验证码生成与验证流程
3. 密码错误与账号锁定流程
4. 登录流程状态流转图
5. Token 刷新机制
6. 登录安全措施
7. 登录相关数据结构

### 03. 权限验证流程
1. 权限验证完整流程时序图
2. RBAC 权限模型图
3. 权限验证的三个层次
4. 数据权限过滤流程
5. 权限加载与缓存流程
6. AOP 权限切面实现
7. 数据权限 SQL 生成
8. 权限配置示例
9. 权限验证数据流

### 04. 请求生命周期
1. 完整请求生命周期时序图
2. FastAPI 中间件执行顺序
3. 异常处理流程
4. AOP 切面执行流程
5. 链路追踪流程
6. 请求状态流转图
7. 并发请求处理
8. 响应构建流程
9. 请求生命周期时间轴
10. 关键时间节点说明

### 05. 数据流转流程
1. 完整数据流转图
2. 查询数据流转时序图
3. 创建数据流转时序图
4. 更新数据流转图
5. 删除数据流转图
6. 缓存数据流转时序图
7. 数据格式转换
8. 数据脱敏流程
9. 分页数据流转
10. 数据验证链
11. 事务处理流程
12. 数据流转关键节点

## 如何使用

### 方法 1：VS Code 预览（推荐）

1. 安装插件：
   - **Markdown Preview Mermaid Support** (推荐)
   - 或 **Mermaid Preview**

2. 打开任意 `.md` 文件

3. 按 `Ctrl+K V` 打开侧边预览

### 方法 2：在线渲染

访问 https://mermaid.live/ ，复制 Mermaid 代码即可预览和导出

### 方法 3：GitHub 直接查看

如果代码推送到 GitHub，直接在 GitHub 上查看会自动渲染 Mermaid 图表

## 学习建议

建议按照以下顺序阅读：

1. **先看** `01-project-overview.md` - 了解整体架构
2. **再看** `02-login-flow.md` - 理解用户如何进入系统
3. **然后** `03-permission-flow.md` - 理解如何控制访问
4. **接着** `04-request-lifecycle.md` - 理解请求如何处理
5. **最后** `05-data-flow.md` - 理解数据如何流转

## 图表说明

- **时序图 (Sequence)**：展示对象之间的交互顺序
- **流程图 (Flowchart)**：展示流程的分支和判断
- **状态图 (State Diagram)**：展示状态的变化
- **类图 (Class Diagram)**：展示类之间的关系
- **ER 图 (Entity Relationship)**：展示数据库表关系
- **甘特图 (Gantt)**：展示时间轴
- **思维导图 (Mindmap)**：展示层级结构
