# 知识点依赖图

> 本文档清晰展示后端学习的前置依赖关系，帮助你规划合理的学习顺序。

## 完整依赖关系图

```mermaid
flowchart LR
    subgraph 阶段0[零基础 - 前置知识]
        A[Python基础]
        C[HTTP协议]
        D[数据库基础]
        G[Git基础]
    end

    subgraph 阶段1[第一阶段 - 入门]
        B[FastAPI入门]
        E[ORM操作]
        F[路由设计]
        H[参数处理]
    end

    subgraph 阶段2[第二阶段 - 核心]
        I[接口设计]
        J[依赖注入]
        K[异常处理]
        L[数据模型]
    end

    subgraph 阶段3[第三阶段 - 进阶]
        M[异步数据库操作]
        N[缓存策略]
        O[事务管理]
        P[性能优化]
    end

    subgraph 阶段4[第四阶段 - 高级]
        Q[认证授权]
        R[权限控制]
        S[安全防护]
    end

    %% 基础依赖
    A --> B
    C --> B
    D --> E
    G --> B

    %% 第一阶段内部
    B --> F
    B --> H
    F --> I
    H --> I

    %% 第一阶段到第二阶段
    I --> J
    I --> K
    E --> L

    %% 第二阶段到第三阶段
    L --> M
    J --> M
    J --> N
    L --> O
    O --> P

    %% 第三阶段到第四阶段
    N --> Q
    Q --> R
    R --> S

    ```

## 分层依赖详解

### 基础层（前置知识）

```mermaid
flowchart TB
    subgraph 基础知识[必须先掌握的基础知识]
        P1[Python基础]
        P2[HTTP协议]
        P3[数据库基础]
        P4[Git基础]
    end

    P1 -->|语法基础| FastAPI[FastAPI学习]
    P2 -->|通信基础| FastAPI
    P3 -->|数据基础| ORM[ORM学习]
    P4 -->|版本控制| Dev[日常开发]

    classDef preStyle fill:#e1f5ff,stroke:#333,stroke-width:2px

    class P1,P2,P3,P4 preStyle
```

| 前置知识 | 说明 | 后续学习 |
|---------|-----|---------|
| Python基础 | 变量、函数、类、装饰器 | FastAPI、异步编程 |
| HTTP协议 | 请求方法、状态码、请求响应 | 接口设计、RESTful |
| 数据库基础 | SQL、表、索引、事务 | ORM、数据建模 |
| Git基础 | clone、commit、push、pull | 版本控制、协作开发 |

### 入门层依赖

```mermaid
flowchart LR
    A[Python基础] --> B[FastAPI入门]
    C[HTTP协议] --> B

    D[数据库基础] --> E[ORM基础]

    B --> F[路由设计]
    B --> G[参数处理]

    F --> H[接口设计]
    G --> H

    E --> I[数据模型]

    ```

### 核心层依赖

```mermaid
flowchart LR
    H[接口设计] --> J[依赖注入]
    H[接口设计] --> K[异常处理]

    I[数据模型] --> L[CRUD操作]

    J[依赖注入] --> M[Service层]
    L[CRUD操作] --> M

    M --> N[业务逻辑]

    ```

### 进阶层依赖

```mermaid
flowchart LR
    P[Python异步] --> Q[异步数据库]

    R[Service层] --> Q

    S[CRUD操作] --> T[事务管理]

    Q --> U[并发处理]
    T --> U

    V[Redis基础] --> W[缓存策略]

    U --> X[性能优化]
    W --> X

    ```

### 高层级依赖

```mermaid
flowchart LR
    A[接口设计] --> B[认证系统]
    C[数据模型] --> B

    B --> D[授权机制]

    D --> E[权限控制]

    E --> F[安全防护]

    G[性能优化] --> F

    ```

## 知识点详细依赖表

### 数据处理相关

| 知识点 | 前置条件 | 后续学习 |
|-------|---------|---------|
| **数据库基础** | 无 | ORM操作、数据建模 |
| **ORM操作** | 数据库基础 | CRUD操作、事务管理 |
| **数据模型（DO/VO/Query）** | ORM操作 | 接口设计、数据持久化 |
| **Pydantic验证** | Python类型系统 | 参数处理、接口设计 |

### 接口开发相关

| 知识点 | 前置条件 | 后续学习 |
|-------|---------|---------|
| **HTTP协议** | 无 | FastAPI、接口设计 |
| **FastAPI基础** | Python基础、HTTP协议 | 路由设计、参数处理 |
| **路由设计** | FastAPI基础 | 接口设计、RESTful |
| **参数处理** | FastAPI基础 | 接口设计、数据验证 |
| **接口设计** | 路由设计、参数处理 | 依赖注入、RESTful API |
| **RESTful风格** | 接口设计、HTTP协议 | API设计最佳实践 |

### 架构设计相关

| 知识点 | 前置条件 | 后续学习 |
|-------|---------|---------|
| **依赖注入** | 接口设计、Python装饰器 | Service层、资源管理 |
| **异常处理** | 接口设计 | 统一响应、错误处理 |
| **分层架构** | 依赖注入、数据模型 | 系统设计、可维护性 |

### 性能优化相关

| 知识点 | 前置条件 | 后续学习 |
|-------|---------|---------|
| **异步编程基础** | Python基础 | 异步数据库、并发处理 |
| **异步数据库** | 异步编程、ORM操作 | 高并发处理 |
| **缓存基础** | 数据库基础 | 缓存策略、性能优化 |
| **缓存策略** | 缓存基础、ORM操作 | 性能优化 |
| **性能优化** | 异步编程、缓存策略 | 系统调优、高并发 |

### 安全防护相关

| 知识点 | 前置条件 | 后续学习 |
|-------|---------|---------|
| **认证基础** | HTTP协议、接口设计 | JWT、OAuth2 |
| **JWT** | 认证基础 | Token管理、会话管理 |
| **权限控制** | 认证、数据模型 | RBAC、数据权限 |
| **安全防护** | 权限控制、接口设计 | 攻击防护、安全审计 |

## 学习路径建议

### 路径 A：循序渐进（推荐新手）

```mermaid
flowchart TB
    Start([开始]) --> Week1_2[第1-2周<br/>Python基础 + HTTP协议]
    Week1_2 --> Week3_4[第3-4周<br/>数据库基础 + FastAPI入门]
    Week3_4 --> Week5_6[第5-6周<br/>路由设计 + 参数处理]
    Week5_6 --> Week7_8[第7-8周<br/>接口设计 + 依赖注入]
    Week7_8 --> Week9_10[第9-10周<br/>数据模型 + ORM操作]
    Week9_10 --> Week11_12[第11-12周<br/>异步编程 + 异步数据库]
    Week11_12 --> Week13_14[第13-14周<br/>缓存策略 + 性能优化]
    Week13_14 --> Week15_16[第15-16周<br/>认证授权 + 安全防护]

    ```

### 路径 B：前端开发者转后端

```mermaid
flowchart TB
    Start([前端开发者]) --> Step1[对比学习<br/>前后端概念对照]
    Step1 --> Step2[HTTP协议<br/>（已了解Axios）]
    Step2 --> Step3[路由设计<br/>（对比Vue Router）]
    Step3 --> Step4[依赖注入<br/>（对比React Hooks）]
    Step4 --> Step5[异步编程<br/>（对比Promise）]
    Step5 --> Step6[数据验证<br/>（对比TypeScript）]

    ```

### 路径 C：快速上手（有编程经验）

```mermaid
flowchart TB
    Start([有编程经验]) --> Phase1[Phase 1: 2周<br/>FastAPI + 路由 + 参数]
    Phase1 --> Phase2[Phase 2: 2周<br/>ORM + 接口设计]
    Phase2 --> Phase3[Phase 3: 2周<br/>依赖注入 + 异步]
    Phase3 --> Phase4[Phase 4: 2周<br/>缓存 + 性能优化]
    Phase4 --> Phase5[Phase 5: 2周<br/>认证 + 安全]

    ```

## 依赖检查清单

学习某个知识点前，检查是否已掌握前置知识：

### 学习 FastAPI 之前
- [ ] 掌握 Python 基础语法
- [ ] 理解 HTTP 请求和响应
- [ ] 了解装饰器概念

### 学习 ORM 之前
- [ ] 掌握数据库基础
- [ ] 能编写基本的 SQL 查询
- [ ] 理解表和关系

### 学习异步编程之前
- [ ] 掌握 Python 基础
- [ ] 理解同步和异步的概念
- [ ] 有一定的 FastAPI 经验

### 学习性能优化之前
- [ ] 熟练使用 ORM
- [ ] 理解异步编程
- [ ] 有实际项目经验

### 学习安全防护之前
- [ ] 熟悉接口设计
- [ ] 理解认证和授权
- [ ] 了解常见安全威胁

## 学习建议

### 核心原则

| 原则 | 说明 |
|-----|------|
| 遵循依赖 | 不要跳过前置知识，会导致后续学习困难 |
| 理解原因 | FastAPI 依赖 Python 和 HTTP，因为它是用 Python 编写的 |
| 灵活调整 | 依赖关系是建议，不是硬性规定 |
| 及时补充 | 理解困难时，检查是否缺少前置知识 |

### 加速学习

- 有前端基础：加速学习 HTTP 和路由
- 有其他语言经验：快速掌握 Python 基础
- 实际项目需求：调整学习优先级

## 相关文档

- [01-学习路径规划.md](./01-学习路径规划.md) - 详细的学习路径
- [04-技术能力矩阵.md](./04-技术能力矩阵.md) - 技能层级划分
- [02-核心概念关联图.md](./02-核心概念关联图.md) - 概念之间的关系
