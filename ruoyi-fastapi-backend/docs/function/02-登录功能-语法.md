### response_model 的作用
文档生成：在自动生成的 API 文档（Swagger/Redoc）中显示预期的响应结构
数据过滤：只返回 response_model 中定义的字段，过滤掉多余字段
类型转换：对返回数据进行类型转换和基本校验

FastAPI 在处理响应时的流程：
检查是否有 response_model
尝试将返回值转换为 response_model 定义的类型
如果转换失败，直接返回原始数据（不会抛出错误）

利用 FastAPI 的功能，建议：
保持一致性：要么都符合 response_model，要么移除 response_model 参数


### @Log 装饰器
主要就是在函数执行前后插入日志记录逻辑，这是日志装饰器最常见的实现方式。

装饰器的执行流程
执行前处理（前置日志记录）：

收集请求信息（IP、User-Agent、请求参数等）
记录操作开始时间
获取用户信息和操作上下文
执行目标函数：

调用原始函数 await func(*args, **kwargs)
执行后处理（后置日志记录）：

获取函数执行结果
记录操作耗时
根据执行结果记录成功或失败状态
将日志信息保存到数据库

### 装饰器本质上就是高阶函数
装饰器的本质确实就是高阶函数（Higher-Order Function），它接收一个函数作为参数，并返回一个新的函数。

### Depends 
是 FastAPI 中一个非常重要的依赖注入机制。让我详细解释它的作用：

Depends 的作用
Depends 用于声明依赖项（Dependencies），它告诉 FastAPI 这个参数需要通过特定的逻辑来获取，而不是直接从请求中解析。
类似于前端的 props 传递，但由框架自动完成。

### Depends 的工作原理
依赖解析：FastAPI 在调用你的函数之前，先解析所有依赖项
执行依赖函数：如果有依赖函数（如 get_db），会先执行这些函数
注入参数：将依赖函数的返回值作为参数传递给你的函数
生命周期管理：处理依赖的生命周期（如数据库连接的打开和关闭）


